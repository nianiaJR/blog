Title: 《JavaScript语言精粹》－前四章阅读笔记
Date: 2015-8-11
Category: JavaScript
Tags: 2015, summary
Slug: js-jingcui-reading1

### 前言
以前没学JS读过一次，这次重读，感受不同，细细品味才知道这本书内容的丰富高质量。前4章主要从：js的使用、语法、对象、函数入手，页数不多但内容殷实，基本没有废话，以下是我的阅读笔记。

### 笔记
1. 弱类型语言好处:
	变量不需要明确的指定类型，js相当灵活，在很多时候都会将一个表达式中不同的类型合理地转化后并计算。也许有人会说相较于强类型语言，这种不固定变量类型的话会导致很多地方出错，其实这种出错所造成的损失比起固定变量类型所带来的麻烦要小的太多，这体现出一种哲学意味：事实并没有想象那么糟，相反却是美妙的。正因为弱化了类型，在很多时候写JS代码会让人感觉很舒服。
    
2. 块注释/* */对于注释来说是不安全的:
	因为不能排除注释里不会存在"*/"类似的注释符号而导致错误，所以应该多用//
    
3. 字符串一旦被创建，久永远无法改变它
	字符串一旦被创建是不可以被更改的，你可以做个实验
	```
    var str='test';
    str[2]=t; //修改
    console.log(str); //test-->修改无效
	```

4. js没有块级作用域
	由于js不存在块级作用域，最好在模块的开始部分对变量进行集中声明，以免造成误会，虽然这个会降低一定的代码可读性，但从宏观来说，它能避免弄不清变量作用域范围。
    
5. 使用for in语句会枚举一个对象的所有属性名，所以在使用的时候最好先判断该属性名是该对象的成员，还是来自于原型链。
	```
	for (myvar in obj ) {
    	if (obj.hasOwnProperty(myvar) {
         ...
     	}
	}
	```

6. break label //退出带该标签的语句，continue可以类比

7. 字面量
	大概意思就是按其字面意思具有意义的字符串变量，有字符串字面量、函数字面量、数组字面量。

8. 引用，对象是通过引用来传递的，他们永远不会被复制

9. 原型连接只有在检索值的时候才会被用到。

10. 原型关系是一种动态的关系，如果我们添加一个新的属性到原型中，该属性会立即对所有基于该原型创建的对象可见。

11. 原型链中的任何属性都会产生值： typeof xxx //function

12. delete运算符可以用来删除对象的属性，它不会触及原型链中的任何对象

13. 最小化使用全局变量的方法之一是为应用创建唯一的全局变量
	```
    //创建唯一全局变量
    var myApp ={}
    myApp.xxx='xxx';//其余变量位于该变量的属性上，可以降低变量的空间命名冲突。
	```

14. Javascript4种调用模式：1、方法调用模式 2、函数调用模式 3、构造器调用模式 4、apply调用模式 ， 这四种调用模式的this所代表的含义不一样
    （1）当被当作方法调用时：函数作为对象的一个属性值的形式来表现
    e.g
    var myObject = {
         value: 1,
         myFunction: function () { console.log(this.value); }
    }
    此时this和myObject绑定，this的绑定是发生在函数myFunction被调用的时候。

    （2）当一个函数并非一个对象的属性时，它就被当作一个函数来调用：
    此时this被绑定到了全局对象，这里在JS语言精粹里指出是语言设计上的一个错误。这个设计的错误后果就是方法不能利用内部函数来帮助它工作，因为内部函数的this被绑定了错误的值。

    （3）构造器调用模式：
    通过在对象构造函数的原型上定义函数，并通过new 一个该对象的实例来调用那个定义在原型上的方法。

    （4）apply模式，通过选择绑定给this的值以及参数，来调用函数，即使该对象并没有这个方法，也可以通过这样的apply模式来进行一个函数调用。

15. 因为语言上的设计错误，arguments只是一个array-like的对象，拥有length属性，但没有任何数组的方法。

16. 一种访问原型方法的设定技巧
    ```
    Function.prototype.method = function (name , func) {
         if (!this.prototype[name]) {
              this.prototype[name] = func;
         }
         return this;
    };
    ```

17. 通过给基本类型增加方法，可以极大地提高语言的表现力。因为JS原型继承的动态本质，新的方法立刻被赋予到所有对象的实例上，哪怕对象实例实在方法被增加之前就创建好了。

18. 在编程语言中，作用域控制着变量与参数的可见性及生命周期。

19. 模块模式的一般形式是：一个定义了私有变量和函数的函数；利用闭包创建可以访问私有变量和函数的特权函数，最后返回整个特权函数，或者保存到一个可以访问到的地方。使用模块模式可以摒弃全局变量的使用，促使信息隐藏和其他优秀的设计。
